ARM GAS  /tmp/ccbY4Bl5.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"tim.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MX_TIM3_Init,"ax",%progbits
  16              		.align	1
  17              		.global	MX_TIM3_Init
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	MX_TIM3_Init:
  25              	.LFB66:
  26              		.file 1 "component/timer/tim.c"
   1:component/timer/tim.c **** #include "tim.h"
   2:component/timer/tim.c **** 
   3:component/timer/tim.c **** 
   4:component/timer/tim.c **** 
   5:component/timer/tim.c **** TIM_HandleTypeDef htim3;
   6:component/timer/tim.c **** 
   7:component/timer/tim.c **** 
   8:component/timer/tim.c **** void MX_TIM3_Init(void)
   9:component/timer/tim.c **** {
  27              		.loc 1 9 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 00B5     		push	{lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 14, -4
  35 0002 87B0     		sub	sp, sp, #28
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 32
  10:component/timer/tim.c ****   TIM_ClockConfigTypeDef sClockSourceConfig = {0};
  38              		.loc 1 10 3 view .LVU1
  39              		.loc 1 10 26 is_stmt 0 view .LVU2
  40 0004 0023     		movs	r3, #0
  41 0006 0293     		str	r3, [sp, #8]
  42 0008 0393     		str	r3, [sp, #12]
  43 000a 0493     		str	r3, [sp, #16]
  44 000c 0593     		str	r3, [sp, #20]
  11:component/timer/tim.c ****   TIM_MasterConfigTypeDef sMasterConfig = {0};
  45              		.loc 1 11 3 is_stmt 1 view .LVU3
  46              		.loc 1 11 27 is_stmt 0 view .LVU4
  47 000e 0093     		str	r3, [sp]
ARM GAS  /tmp/ccbY4Bl5.s 			page 2


  48 0010 0193     		str	r3, [sp, #4]
  12:component/timer/tim.c **** 
  13:component/timer/tim.c ****   htim3.Instance = TIM3;
  49              		.loc 1 13 3 is_stmt 1 view .LVU5
  50              		.loc 1 13 18 is_stmt 0 view .LVU6
  51 0012 1648     		ldr	r0, .L9
  52 0014 164A     		ldr	r2, .L9+4
  53 0016 0260     		str	r2, [r0]
  14:component/timer/tim.c ****   htim3.Init.Prescaler = 72-1;
  54              		.loc 1 14 3 is_stmt 1 view .LVU7
  55              		.loc 1 14 24 is_stmt 0 view .LVU8
  56 0018 4722     		movs	r2, #71
  57 001a 4260     		str	r2, [r0, #4]
  15:component/timer/tim.c ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
  58              		.loc 1 15 3 is_stmt 1 view .LVU9
  59              		.loc 1 15 26 is_stmt 0 view .LVU10
  60 001c 8360     		str	r3, [r0, #8]
  16:component/timer/tim.c ****   htim3.Init.Period = 1000-1;   //(1000-1)
  61              		.loc 1 16 3 is_stmt 1 view .LVU11
  62              		.loc 1 16 21 is_stmt 0 view .LVU12
  63 001e 40F2E732 		movw	r2, #999
  64 0022 C260     		str	r2, [r0, #12]
  17:component/timer/tim.c ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  65              		.loc 1 17 3 is_stmt 1 view .LVU13
  66              		.loc 1 17 28 is_stmt 0 view .LVU14
  67 0024 0361     		str	r3, [r0, #16]
  18:component/timer/tim.c ****   htim3.Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_ENABLE;
  68              		.loc 1 18 3 is_stmt 1 view .LVU15
  69              		.loc 1 18 32 is_stmt 0 view .LVU16
  70 0026 8023     		movs	r3, #128
  71 0028 8361     		str	r3, [r0, #24]
  19:component/timer/tim.c ****   if (HAL_TIM_Base_Init(&htim3) != HAL_OK)
  72              		.loc 1 19 3 is_stmt 1 view .LVU17
  73              		.loc 1 19 7 is_stmt 0 view .LVU18
  74 002a FFF7FEFF 		bl	HAL_TIM_Base_Init
  75              	.LVL0:
  76              		.loc 1 19 6 view .LVU19
  77 002e 98B9     		cbnz	r0, .L6
  78              	.L2:
  20:component/timer/tim.c ****   {
  21:component/timer/tim.c ****     Error_Handler();
  22:component/timer/tim.c ****   }
  23:component/timer/tim.c ****   sClockSourceConfig.ClockSource = TIM_CLOCKSOURCE_INTERNAL;
  79              		.loc 1 23 3 is_stmt 1 view .LVU20
  80              		.loc 1 23 34 is_stmt 0 view .LVU21
  81 0030 4FF48053 		mov	r3, #4096
  82 0034 0293     		str	r3, [sp, #8]
  24:component/timer/tim.c ****   if (HAL_TIM_ConfigClockSource(&htim3, &sClockSourceConfig) != HAL_OK)
  83              		.loc 1 24 3 is_stmt 1 view .LVU22
  84              		.loc 1 24 7 is_stmt 0 view .LVU23
  85 0036 02A9     		add	r1, sp, #8
  86 0038 0C48     		ldr	r0, .L9
  87 003a FFF7FEFF 		bl	HAL_TIM_ConfigClockSource
  88              	.LVL1:
  89              		.loc 1 24 6 view .LVU24
  90 003e 70B9     		cbnz	r0, .L7
  91              	.L3:
ARM GAS  /tmp/ccbY4Bl5.s 			page 3


  25:component/timer/tim.c ****   {
  26:component/timer/tim.c ****     Error_Handler();
  27:component/timer/tim.c ****   }
  28:component/timer/tim.c ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_UPDATE;
  92              		.loc 1 28 3 is_stmt 1 view .LVU25
  93              		.loc 1 28 37 is_stmt 0 view .LVU26
  94 0040 2023     		movs	r3, #32
  95 0042 0093     		str	r3, [sp]
  29:component/timer/tim.c ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
  96              		.loc 1 29 3 is_stmt 1 view .LVU27
  97              		.loc 1 29 33 is_stmt 0 view .LVU28
  98 0044 0023     		movs	r3, #0
  99 0046 0193     		str	r3, [sp, #4]
  30:component/timer/tim.c ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim3, &sMasterConfig) != HAL_OK)
 100              		.loc 1 30 3 is_stmt 1 view .LVU29
 101              		.loc 1 30 7 is_stmt 0 view .LVU30
 102 0048 6946     		mov	r1, sp
 103 004a 0848     		ldr	r0, .L9
 104 004c FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 105              	.LVL2:
 106              		.loc 1 30 6 view .LVU31
 107 0050 40B9     		cbnz	r0, .L8
 108              	.L1:
  31:component/timer/tim.c ****   {
  32:component/timer/tim.c ****     Error_Handler();
  33:component/timer/tim.c ****   }
  34:component/timer/tim.c **** 
  35:component/timer/tim.c **** }
 109              		.loc 1 35 1 view .LVU32
 110 0052 07B0     		add	sp, sp, #28
 111              	.LCFI2:
 112              		.cfi_remember_state
 113              		.cfi_def_cfa_offset 4
 114              		@ sp needed
 115 0054 5DF804FB 		ldr	pc, [sp], #4
 116              	.L6:
 117              	.LCFI3:
 118              		.cfi_restore_state
  21:component/timer/tim.c ****   }
 119              		.loc 1 21 5 is_stmt 1 view .LVU33
 120 0058 FFF7FEFF 		bl	Error_Handler
 121              	.LVL3:
 122 005c E8E7     		b	.L2
 123              	.L7:
  26:component/timer/tim.c ****   }
 124              		.loc 1 26 5 view .LVU34
 125 005e FFF7FEFF 		bl	Error_Handler
 126              	.LVL4:
 127 0062 EDE7     		b	.L3
 128              	.L8:
  32:component/timer/tim.c ****   }
 129              		.loc 1 32 5 view .LVU35
 130 0064 FFF7FEFF 		bl	Error_Handler
 131              	.LVL5:
 132              		.loc 1 35 1 is_stmt 0 view .LVU36
 133 0068 F3E7     		b	.L1
 134              	.L10:
ARM GAS  /tmp/ccbY4Bl5.s 			page 4


 135 006a 00BF     		.align	2
 136              	.L9:
 137 006c 00000000 		.word	htim3
 138 0070 00040040 		.word	1073742848
 139              		.cfi_endproc
 140              	.LFE66:
 142              		.section	.text.HAL_TIM_Base_MspInit,"ax",%progbits
 143              		.align	1
 144              		.global	HAL_TIM_Base_MspInit
 145              		.syntax unified
 146              		.thumb
 147              		.thumb_func
 148              		.fpu softvfp
 150              	HAL_TIM_Base_MspInit:
 151              	.LVL6:
 152              	.LFB67:
  36:component/timer/tim.c **** 
  37:component/timer/tim.c **** void HAL_TIM_Base_MspInit(TIM_HandleTypeDef* tim_baseHandle)
  38:component/timer/tim.c **** {
 153              		.loc 1 38 1 is_stmt 1 view -0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 8
 156              		@ frame_needed = 0, uses_anonymous_args = 0
  39:component/timer/tim.c **** 
  40:component/timer/tim.c ****   if(tim_baseHandle->Instance==TIM3)
 157              		.loc 1 40 3 view .LVU38
 158              		.loc 1 40 20 is_stmt 0 view .LVU39
 159 0000 0268     		ldr	r2, [r0]
 160              		.loc 1 40 5 view .LVU40
 161 0002 0E4B     		ldr	r3, .L18
 162 0004 9A42     		cmp	r2, r3
 163 0006 00D0     		beq	.L17
 164 0008 7047     		bx	lr
 165              	.L17:
  38:component/timer/tim.c **** 
 166              		.loc 1 38 1 view .LVU41
 167 000a 00B5     		push	{lr}
 168              	.LCFI4:
 169              		.cfi_def_cfa_offset 4
 170              		.cfi_offset 14, -4
 171 000c 83B0     		sub	sp, sp, #12
 172              	.LCFI5:
 173              		.cfi_def_cfa_offset 16
  41:component/timer/tim.c ****   {
  42:component/timer/tim.c **** 
  43:component/timer/tim.c ****     __HAL_RCC_TIM3_CLK_ENABLE();
 174              		.loc 1 43 5 is_stmt 1 view .LVU42
 175              	.LBB2:
 176              		.loc 1 43 5 view .LVU43
 177              		.loc 1 43 5 view .LVU44
 178 000e 03F50333 		add	r3, r3, #134144
 179 0012 DA69     		ldr	r2, [r3, #28]
 180 0014 42F00202 		orr	r2, r2, #2
 181 0018 DA61     		str	r2, [r3, #28]
 182              		.loc 1 43 5 view .LVU45
 183 001a DB69     		ldr	r3, [r3, #28]
 184 001c 03F00203 		and	r3, r3, #2
ARM GAS  /tmp/ccbY4Bl5.s 			page 5


 185 0020 0193     		str	r3, [sp, #4]
 186              		.loc 1 43 5 view .LVU46
 187 0022 019B     		ldr	r3, [sp, #4]
 188              	.LBE2:
 189              		.loc 1 43 5 view .LVU47
  44:component/timer/tim.c **** 
  45:component/timer/tim.c ****     HAL_NVIC_SetPriority(TIM3_IRQn, 2, 2);
 190              		.loc 1 45 5 view .LVU48
 191 0024 0222     		movs	r2, #2
 192 0026 1146     		mov	r1, r2
 193 0028 1D20     		movs	r0, #29
 194              	.LVL7:
 195              		.loc 1 45 5 is_stmt 0 view .LVU49
 196 002a FFF7FEFF 		bl	HAL_NVIC_SetPriority
 197              	.LVL8:
  46:component/timer/tim.c ****     HAL_NVIC_EnableIRQ(TIM3_IRQn);
 198              		.loc 1 46 5 is_stmt 1 view .LVU50
 199 002e 1D20     		movs	r0, #29
 200 0030 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 201              	.LVL9:
  47:component/timer/tim.c ****   }
  48:component/timer/tim.c **** }
 202              		.loc 1 48 1 is_stmt 0 view .LVU51
 203 0034 03B0     		add	sp, sp, #12
 204              	.LCFI6:
 205              		.cfi_def_cfa_offset 4
 206              		@ sp needed
 207 0036 5DF804FB 		ldr	pc, [sp], #4
 208              	.L19:
 209 003a 00BF     		.align	2
 210              	.L18:
 211 003c 00040040 		.word	1073742848
 212              		.cfi_endproc
 213              	.LFE67:
 215              		.section	.text.HAL_TIM_Base_MspDeInit,"ax",%progbits
 216              		.align	1
 217              		.global	HAL_TIM_Base_MspDeInit
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu softvfp
 223              	HAL_TIM_Base_MspDeInit:
 224              	.LVL10:
 225              	.LFB68:
  49:component/timer/tim.c **** 
  50:component/timer/tim.c **** void HAL_TIM_Base_MspDeInit(TIM_HandleTypeDef* tim_baseHandle)
  51:component/timer/tim.c **** {
 226              		.loc 1 51 1 is_stmt 1 view -0
 227              		.cfi_startproc
 228              		@ args = 0, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230              		.loc 1 51 1 is_stmt 0 view .LVU53
 231 0000 08B5     		push	{r3, lr}
 232              	.LCFI7:
 233              		.cfi_def_cfa_offset 8
 234              		.cfi_offset 3, -8
 235              		.cfi_offset 14, -4
ARM GAS  /tmp/ccbY4Bl5.s 			page 6


  52:component/timer/tim.c **** 
  53:component/timer/tim.c ****   if(tim_baseHandle->Instance==TIM3)
 236              		.loc 1 53 3 is_stmt 1 view .LVU54
 237              		.loc 1 53 20 is_stmt 0 view .LVU55
 238 0002 0268     		ldr	r2, [r0]
 239              		.loc 1 53 5 view .LVU56
 240 0004 064B     		ldr	r3, .L24
 241 0006 9A42     		cmp	r2, r3
 242 0008 00D0     		beq	.L23
 243              	.LVL11:
 244              	.L20:
  54:component/timer/tim.c ****   {
  55:component/timer/tim.c ****     __HAL_RCC_TIM3_CLK_DISABLE();
  56:component/timer/tim.c **** 
  57:component/timer/tim.c ****     HAL_NVIC_DisableIRQ(TIM3_IRQn);
  58:component/timer/tim.c ****   }
  59:component/timer/tim.c **** }
 245              		.loc 1 59 1 view .LVU57
 246 000a 08BD     		pop	{r3, pc}
 247              	.LVL12:
 248              	.L23:
  55:component/timer/tim.c **** 
 249              		.loc 1 55 5 is_stmt 1 view .LVU58
 250 000c 054A     		ldr	r2, .L24+4
 251 000e D369     		ldr	r3, [r2, #28]
 252 0010 23F00203 		bic	r3, r3, #2
 253 0014 D361     		str	r3, [r2, #28]
  57:component/timer/tim.c ****   }
 254              		.loc 1 57 5 view .LVU59
 255 0016 1D20     		movs	r0, #29
 256              	.LVL13:
  57:component/timer/tim.c ****   }
 257              		.loc 1 57 5 is_stmt 0 view .LVU60
 258 0018 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 259              	.LVL14:
 260              		.loc 1 59 1 view .LVU61
 261 001c F5E7     		b	.L20
 262              	.L25:
 263 001e 00BF     		.align	2
 264              	.L24:
 265 0020 00040040 		.word	1073742848
 266 0024 00100240 		.word	1073876992
 267              		.cfi_endproc
 268              	.LFE68:
 270              		.comm	htim3,64,4
 271              		.text
 272              	.Letext0:
 273              		.file 2 "/home/yhf/toolchains/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/machine/_de
 274              		.file 3 "/home/yhf/toolchains/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/_stdint
 275              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 276              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 277              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 278              		.file 7 "/home/yhf/toolchains/gcc-arm-none-eabi-9-2020-q2-update/lib/gcc/arm-none-eabi/9.3.1/inclu
 279              		.file 8 "/home/yhf/toolchains/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/_types.
 280              		.file 9 "/home/yhf/toolchains/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/reent.h
 281              		.file 10 "/home/yhf/toolchains/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/include/sys/lock.h
 282              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
ARM GAS  /tmp/ccbY4Bl5.s 			page 7


 283              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 284              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 285              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim_ex.h"
 286              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 287              		.file 16 "component/timer/tim.h"
 288              		.file 17 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 289              		.file 18 "app/Inc/main.h"
ARM GAS  /tmp/ccbY4Bl5.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tim.c
     /tmp/ccbY4Bl5.s:16     .text.MX_TIM3_Init:0000000000000000 $t
     /tmp/ccbY4Bl5.s:24     .text.MX_TIM3_Init:0000000000000000 MX_TIM3_Init
     /tmp/ccbY4Bl5.s:137    .text.MX_TIM3_Init:000000000000006c $d
                            *COM*:0000000000000040 htim3
     /tmp/ccbY4Bl5.s:143    .text.HAL_TIM_Base_MspInit:0000000000000000 $t
     /tmp/ccbY4Bl5.s:150    .text.HAL_TIM_Base_MspInit:0000000000000000 HAL_TIM_Base_MspInit
     /tmp/ccbY4Bl5.s:211    .text.HAL_TIM_Base_MspInit:000000000000003c $d
     /tmp/ccbY4Bl5.s:216    .text.HAL_TIM_Base_MspDeInit:0000000000000000 $t
     /tmp/ccbY4Bl5.s:223    .text.HAL_TIM_Base_MspDeInit:0000000000000000 HAL_TIM_Base_MspDeInit
     /tmp/ccbY4Bl5.s:265    .text.HAL_TIM_Base_MspDeInit:0000000000000020 $d

UNDEFINED SYMBOLS
HAL_TIM_Base_Init
HAL_TIM_ConfigClockSource
HAL_TIMEx_MasterConfigSynchronization
Error_Handler
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_NVIC_DisableIRQ
